!function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.title="Planets",this.page=0,this.pages=0,this.column="population",this.markerOne=1,this.markerTwo=2,this.markerThree="...",this.planets=[],this.count=0,this.search="",this.swapi=t,this.getPlanets()}return e.$inject=["Swapi"],r(e,[{key:"checkString",value:function(){this.search=this.search.replace(/[^\w\s]|[\d]/gi,"")}},{key:"searchUrl",value:function(){this.getPlanets("https://swapi.co/api/planets/?search="+this.search+"&page="+(this.page+1))}},{key:"searchApi",value:function(){this.checkString(),""!==this.search?(this.searchMode=!0,this.page=0,this.searchUrl(),this.setMarker()):(this.searchMode=!1,this.getPlanets())}},{key:"getPlanets",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://swapi.co/api/planets/?page="+(this.page+1);this.swapi.getPlanets(t).then(function(t){e.count=t.count;var n=e.count/10;n>Math.floor(n)?e.pages=Math.floor(n+1):e.pages=n,e.planets[e.page]=t.results}).then(function(e){e&&console.log(e)})}},{key:"setColumn",value:function(e){e===this.column?this.column="-"+this.column:("name"!==e&&this.planets[this.page].forEach(function(t){"unknown"!==t[e]&&(t[e]=parseInt(t[e]))}),this.column=e)}},{key:"disabled",value:function(e,t){return t===this.markerTwo&&1===this.pages||this.pageIs(e)||this.isDots(t)}},{key:"isSelected",value:function(e){return this.pageIs(e)&&!this.isDots(e)}},{key:"pageIs",value:function(e){return 0===this.pages||this.page+1===e}},{key:"isDots",value:function(e){return"..."===e}},{key:"setPage",value:function(e){this.page=e-1,this.setMarker(),this.searchMode===!0?this.searchUrl():this.getPlanets()}},{key:"nextPage",value:function(){this.setPage(this.page+2)}},{key:"prevPage",value:function(){this.setPage(this.page)}},{key:"setMarker",value:function(){var e="...";this.page+1>=this.pages-1&&(this.markerOne=e,this.markerTwo=this.pages-1,this.markerThree=this.pages),this.page<this.pages-2&&(this.markerOne=this.page+1,this.markerTwo=this.page+2,this.markerThree=e),this.pages<2&&(this.markerOne=e,this.markerTwo=e,this.markerThree=e)}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=function(){function e(t){i(this,e),this.$http=t}return e.$inject=["$http"],r(e,[{key:"get",value:function(e){return this.$http.get(e)}},{key:"getPlanets",value:function(e){var t=this,n=void 0;return this.get(e).then(function(e){n=e.data;for(var i=n.results,r=function(e){i[e].terrain=i[e].terrain.split(", ");for(var n=function(n){t.get(i[e].films[n]).then(function(t){i[e].films[n]=t.data.title})},r=0;r<i[e].films.length;r++)n(r);i[e].films.length>i[e].terrain.length?(i[e].biggest="films",i[e].smallest="terrain"):(i[e].biggest="terrain",i[e].smallest="films")},s=0;s<i.length;s++)r(s);return n})}}]),e}();t.default=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(1),s=i(r),a=n(0),u=i(a);angular.module("planetApp",[]).service("Swapi",s.default).controller("Main",u.default)}]);