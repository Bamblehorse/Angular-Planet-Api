"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}(),Main=function(){function e(t){_classCallCheck(this,e),this.title="Planets",this.page=0,this.pages=0,this.column="population",this.markerOne=1,this.markerTwo=2,this.markerThree="...",this.planets=[],this.count=0,this.search="",this.swapi=t,this.getPlanets()}return e.$inject=["Swapi"],_createClass(e,[{key:"checkString",value:function(){this.search=this.search.replace(/[^\w\s]|[\d]/gi,"")}},{key:"searchUrl",value:function(){this.getPlanets("http://swapi.co/api/planets/?search="+this.search+"&page="+(this.page+1))}},{key:"searchApi",value:function(){this.checkString(),""!==this.search?(this.searchMode=!0,this.page=0,this.searchUrl(),this.setMarker()):(this.searchMode=!1,this.getPlanets())}},{key:"getPlanets",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://swapi.co/api/planets/?page="+(this.page+1);this.swapi.getPlanets(t).then(function(t){e.count=t.count;var s=e.count/10;s>Math.floor(s)?e.pages=Math.floor(s+1):e.pages=s,e.planets[e.page]=t.results}).then(function(e){e&&console.log(e)})}},{key:"setColumn",value:function(e){e===this.column?this.column="-"+this.column:("name"!==e&&this.planets[this.page].forEach(function(t){"unknown"!==t[e]&&(t[e]=parseInt(t[e]))}),this.column=e)}},{key:"disabled",value:function(e,t){return t===this.markerTwo&&1===this.pages||(this.pageIs(e)||this.isDots(t))}},{key:"isSelected",value:function(e){return this.pageIs(e)&&!this.isDots(e)}},{key:"pageIs",value:function(e){return 0===this.pages||this.page+1===e}},{key:"isDots",value:function(e){return"..."===e}},{key:"setPage",value:function(e){this.page=e-1,this.setMarker(),this.searchMode===!0?this.searchUrl():this.getPlanets()}},{key:"nextPage",value:function(){this.setPage(this.page+2)}},{key:"prevPage",value:function(){this.setPage(this.page)}},{key:"setMarker",value:function(){var e="...";this.page+1>=this.pages-1&&(this.markerOne=e,this.markerTwo=this.pages-1,this.markerThree=this.pages),this.page<this.pages-2&&(this.markerOne=this.page+1,this.markerTwo=this.page+2,this.markerThree=e),this.pages<2&&(this.markerOne=e,this.markerTwo=e,this.markerThree=e)}}]),e}();exports.default=Main;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uY29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJfY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwidGFyZ2V0IiwicHJvcHMiLCJpIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIk1haW4iLCJTd2FwaSIsInRoaXMiLCJ0aXRsZSIsInBhZ2UiLCJwYWdlcyIsImNvbHVtbiIsIm1hcmtlck9uZSIsIm1hcmtlclRocmVlIiwicGxhbmV0cyIsImNvdW50Iiwic3dhcGkiLCJzZWFyY2giLCJyZXBsYWNlIiwiY2hlY2tTdHJpbmciLCJzZWFyY2hNb2RlIiwic2VhcmNoVXJsIiwiZ2V0UGxhbmV0cyIsIl90aGlzIiwidXJsIiwiYXJndW1lbnRzIiwidW5kZWZpbmVkIiwidGhlbiIsImFwcHJveFBhZ2VzIiwiTWF0aCIsImZsb29yIiwic2V0TWFya2VyIiwicmVzIiwicmVzdWx0cyIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJwbGFuZXQiLCJtYXJrZXIiLCJtYXJrZXJUd28iLCJwYWdlSXMiLCJpc0RvdHMiLCJzZXRQYWdlIiwiZG90cyIsImRlZmF1bHQiXSwibWFwcGluZ3MiOiJBQUFBLFlBUUEsU0FBU0EsaUJBQWdCQyxFQUFVQyxHQUFlLEtBQU1ELFlBQW9CQyxJQUFnQixLQUFNLElBQUlDLFdBQVUscUNBTmhIQyxPQUFPQyxlQUFlQyxRQUFTLGNBQzdCQyxPQUFPLEdBR1QsSUFBSUMsY0FBZSxXQUFjLFFBQVNDLEdBQWlCQyxFQUFRQyxHQUFTLElBQUssR0FBSUMsR0FBSSxFQUFHQSxFQUFJRCxFQUFNRSxPQUFRRCxJQUFL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QXVCRXhCLEtBQUthLGNBQWUsRUFyQnhCYixLQUFPYyxZQXVCTmQsS0FBQWUsZ0JBOEJEckIsSUFEQyxXQUNEWCxNQUFLLFdBeEJMaUIsS0FEQ21DLFFBQUFuQyxLQUFBRSxLQUFBLE1BOEJEUixJQURDLFdBQ0RYLE1BQUssV0F6QkxpQixLQXhCRW1DLFFBQU9uQyxLQUFBRSxTQXNEVFIsSUFEQyxZQUNEWCxNQUFLLFdBMUJMLEdBRENxRCxHQUFBLEtBQ0RwQyxNQUFLRSxLQUFBLEdBQUFGLEtBQUFHLE1BQUEsSUFDTEgsS0FBT0ssVUFBUytCLEVBdkJoQnBDLEtBQU8rQixVQUFXL0IsS0FBQUcsTUFBQSxFQTBCZEgsS0FBS00sWUFBY04sS0FBS0csT0FDNUJILEtBQUtFLEtBQUFGLEtBQUFHLE1BQUEsSUFDTEgsS0FBT0ssVUFBU0wsS0F6QlRFLEtBQU0sRUFDYkYsS0FBS0UsVUFBT0EsS0FBT0EsS0FBQSxFQUNuQkYsS0FBS3dCLFlBQUFBLEdBRUR4QixLQUFLYyxNQUFBQSxJQTJCUGQsS0FBS0ssVUExQkErQixFQTJCTHBDLEtBMUJBZ0MsVUFBS2pCLEVBMkJMZixLQUFLTSxZQUFjOEIsT0FpQ2hCdEMsSUFHVGhCLFNBQVF1RCxRQXRLYXZDIiwiZmlsZSI6Im1haW4uY29udHJvbGxlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbiB7XG4gIC8qIEBuZ0luamVjdCAqL1xuICBjb25zdHJ1Y3RvcihTd2FwaSkge1xuICAgIHRoaXMudGl0bGUgPSBcIlBsYW5ldHNcIjtcblxuICAgIHRoaXMucGFnZSA9IDA7XG4gICAgdGhpcy5wYWdlcyA9IDA7XG4gICAgdGhpcy5jb2x1bW4gPSAncG9wdWxhdGlvbic7XG4gICAgdGhpcy5tYXJrZXJPbmUgPSAxO1xuICAgIHRoaXMubWFya2VyVHdvID0gMjtcbiAgICB0aGlzLm1hcmtlclRocmVlID0gJy4uLic7XG5cbiAgICB0aGlzLnBsYW5ldHMgPSBbXTtcbiAgICB0aGlzLmNvdW50ID0gMDtcblxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5zd2FwaSA9IFN3YXBpO1xuICAgIHRoaXMuZ2V0UGxhbmV0cygpO1xuICB9XG4gIGNoZWNrU3RyaW5nICgpIHtcbiAgICB0aGlzLnNlYXJjaCA9IHRoaXMuc2VhcmNoLnJlcGxhY2UoL1teXFx3XFxzXXxbXFxkXS9naSwgXCJcIik7XG4gIH1cblxuICBzZWFyY2hVcmwoKSB7XG4gICAgdGhpcy5nZXRQbGFuZXRzKFxuICAgICAgJ2h0dHA6Ly9zd2FwaS5jby9hcGkvcGxhbmV0cy8/c2VhcmNoPScgK1xuICAgICAgdGhpcy5zZWFyY2ggKyAnJnBhZ2U9JyArICh0aGlzLnBhZ2UgKyAxKSk7XG4gIH1cblxuICBzZWFyY2hBcGkgKCkge1xuICAgIHRoaXMuY2hlY2tTdHJpbmcoKTtcbiAgICBpZiAodGhpcy5zZWFyY2ggIT09ICcnKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoTW9kZSA9IHRydWU7XG4gICAgICAgIHRoaXMucGFnZSA9IDA7XG4gICAgICAgIHRoaXMuc2VhcmNoVXJsKCk7XG4gICAgICAgIHRoaXMuc2V0TWFya2VyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zZWFyY2hNb2RlID0gZmFsc2U7XG4gICAgICB0aGlzLmdldFBsYW5ldHMoKTtcbiAgICB9XG4gIH1cblxuICBnZXRQbGFuZXRzICh1cmw9J2h0dHBzOi8vc3dhcGkuY28vYXBpL3BsYW5ldHMvP3BhZ2U9JyArICh0aGlzLnBhZ2UgKyAxKSkge1xuICAgIHRoaXMuc3dhcGkuZ2V0UGxhbmV0cyh1cmwpXG4gICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgIHRoaXMuY291bnQgPSByZXMuY291bnQ7XG4gICAgICAgIGxldCBhcHByb3hQYWdlcyA9IHRoaXMuY291bnQgLyAxMDtcbiAgICAgICAgaWYgKGFwcHJveFBhZ2VzID4gTWF0aC5mbG9vcihhcHByb3hQYWdlcykpIHtcbiAgICAgICAgICB0aGlzLnBhZ2VzID0gTWF0aC5mbG9vcihhcHByb3hQYWdlcyArIDEpO1xuICAgICAgICB9IGVsc2UgeyB0aGlzLnBhZ2VzID0gYXBwcm94UGFnZXM7IH1cblxuICAgICAgICB0aGlzLnBsYW5ldHNbdGhpcy5wYWdlXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgfSlcbiAgICAgIC50aGVuKChlcnIpID0+IHtcbiAgICAgICAgaWYgKGVycikgeyBjb25zb2xlLmxvZyhlcnIpOyB9XG4gICAgICB9KTtcbiAgfVxuXG4gIHNldENvbHVtbiAoY29sdW1uKSB7XG4gICAgaWYgKGNvbHVtbiA9PT0gdGhpcy5jb2x1bW4pIHtcbiAgICAgIHRoaXMuY29sdW1uID0gXCItXCIgKyB0aGlzLmNvbHVtbjtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoY29sdW1uICE9PSAnbmFtZScpIHtcbiAgICAgICAgdGhpcy5wbGFuZXRzW3RoaXMucGFnZV0uZm9yRWFjaCggZnVuY3Rpb24ocGxhbmV0KSB7XG4gICAgICAgICAgaWYgKHBsYW5ldFtjb2x1bW5dICE9PSAndW5rbm93bicpIHtcbiAgICAgICAgICAgIHBsYW5ldFtjb2x1bW5dID0gcGFyc2VJbnQocGxhbmV0W2NvbHVtbl0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB9XG4gIH1cblxuICBkaXNhYmxlZChwYWdlLCBtYXJrZXIpIHtcbiAgICBpZiAobWFya2VyID09PSB0aGlzLm1hcmtlclR3byAmJiB0aGlzLnBhZ2VzID09PSAxKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucGFnZUlzKHBhZ2UpIHx8IHRoaXMuaXNEb3RzKG1hcmtlcik7XG4gIH1cblxuICBpc1NlbGVjdGVkKG1hcmtlcikge1xuICAgIHJldHVybiB0aGlzLnBhZ2VJcyhtYXJrZXIpICYmICF0aGlzLmlzRG90cyhtYXJrZXIpO1xuICB9XG5cbiAgcGFnZUlzKHBhZ2UpIHtcbiAgICBpZiAodGhpcy5wYWdlcyA9PT0gMCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnBhZ2UgKyAxID09PSBwYWdlO1xuICB9XG5cbiAgaXNEb3RzKG1hcmtlcikge1xuICAgIHJldHVybiBtYXJrZXIgPT09ICcuLi4nO1xuICB9XG5cbiAgc2V0UGFnZSAocGFnZSkge1xuICAgIHRoaXMucGFnZSA9IHBhZ2UgLSAxO1xuICAgIHRoaXMuc2V0TWFya2VyKCk7XG4gICAgaWYgKHRoaXMuc2VhcmNoTW9kZSA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnNlYXJjaFVybCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmdldFBsYW5ldHMoKTtcbiAgICB9XG4gIH1cblxuICBuZXh0UGFnZSAoKSB7XG4gICAgdGhpcy5zZXRQYWdlKHRoaXMucGFnZSArIDIpO1xuICB9XG5cbiAgcHJldlBhZ2UgKCkge1xuICAgIHRoaXMuc2V0UGFnZSh0aGlzLnBhZ2UpO1xuICB9XG5cbiAgc2V0TWFya2VyICgpIHtcbiAgICBjb25zdCBkb3RzID0gJy4uLic7XG4gICAgaWYgKHRoaXMucGFnZSArIDEgPj0gdGhpcy5wYWdlcyAtIDEpIHtcbiAgICAgICAgdGhpcy5tYXJrZXJPbmUgPSBkb3RzO1xuICAgICAgICB0aGlzLm1hcmtlclR3byA9IHRoaXMucGFnZXMgLSAxO1xuICAgICAgICB0aGlzLm1hcmtlclRocmVlID0gdGhpcy5wYWdlcztcbiAgICB9XG4gICAgaWYgKHRoaXMucGFnZSA8IHRoaXMucGFnZXMgLSAyKSB7XG4gICAgICB0aGlzLm1hcmtlck9uZSA9IHRoaXMucGFnZSArIDE7XG4gICAgICB0aGlzLm1hcmtlclR3byA9IHRoaXMucGFnZSArIDI7XG4gICAgICB0aGlzLm1hcmtlclRocmVlID0gZG90cztcbiAgICB9XG4gICAgaWYgKHRoaXMucGFnZXMgPCAyKSB7XG4gICAgICB0aGlzLm1hcmtlck9uZSA9IGRvdHM7XG4gICAgICB0aGlzLm1hcmtlclR3byA9IGRvdHM7XG4gICAgICB0aGlzLm1hcmtlclRocmVlID0gZG90cztcbiAgICB9XG4gIH1cbn1cbiJdfQ==
